library(xlsx)
install.packages("rJava")
library(xlsx)
library(rJava)
setwd("~/GitHub/TAToolbox/Matthias/01-NEMA_Phantom")
data<-read.table("Measured_vs_Simulated_allDosis_Mask_TK.csv")
data<-read.table("Measured_vs_Simulated_allDosis_Mask_TK.csv", sep=",;")
data<-read.table("Measured_vs_Simulated_allDosis_Mask_TK.csv", sep=";")
head(data)
data<-read.table("Measured_vs_Simulated_allDosis_Mask_TK.csv", sep=";", header=T)
head(data)
summary(data)
data<-read.table("Measured_vs_Simulated_allDosis_Mask_TK.csv", sep=";", header=T, dec=",")
summary(data)
View(data)
data[1,]
colnames(data)
cor(data[1,2:6],data[1,7:11])
cor(t(data[1,2:6]), t(data[1,7:11]))
corPearson<-corSpearman<-pTtest<-pWilcoxon<-vector()
i<-1
x<-t(data[i,3:6])
y<-t(data[i,8:11])
corPearson[i]<-cor(x,y )
corSpearman[i]<-cor(x,y, method = "spearman")
pTtest[i]<-t.test(x,y, paired = T)
t.test(x,y, paired = T)
t.test(x,y, paired = T)->tt
wilcox.test(x,y, paired = T)$p.value
corPearson<-corSpearman<-pTtest<-pWilcoxon<-vector()
for(i in 1:nrow(data)){
x<-t(data[i,3:6])
y<-t(data[i,8:11])
corPearson[i]<-cor(x,y )
corSpearman[i]<-cor(x,y, method = "spearman")
pTtest[i]<-t.test(x,y, paired = T)$p.value
pWilcoxon[i]<-  wilcox.test(x,y, paired = T)$p.value
}
pTtest
plot(pTtest, pWilcoxon)
abline(0,1)
plot(x,y)
plot(x,y); abline(0,1)
par(mfrow=c(2,2))
for(i in 1:nrow(data)){
x<-t(data[i,3:6])
y<-t(data[i,8:11])
plot(x,y); abline(0,1)
}
par(mfrow=c(2,2))
for(i in 1:nrow(data)){
x<-t(data[i,3:6])
y<-t(data[i,8:11])
plot(x,y, main=data[i,1]); abline(0,1)
}
par(mfrow=c(2,2))
for(i in 1:nrow(data)){
x<-t(data[i,3:6])
y<-t(data[i,8:11])
plot(x,y, main=data[i,1], xlab="Measured",
ylab="Simulation")
abline(0,1)
}
t.test(x,y, paired = T)
c(round(corPearson[i], 2), round(corSpearman[i], 2), round(pTtest[i], 2), round(pWilcoxon[i], 2) )
c(paste0("Pearson: ", round(corPearson[i], 2)),
paste0(round(corSpearman[i], 2)),
paste0(round(pTtest[i], 2)),
paste0(round(pWilcoxon[i], 2)))
lhelp<-c(paste0("Pearson: ", round(corPearson[i], 2)),
paste0("Spearman: ", round(corSpearman[i], 2)),
paste0("tTest: ", round(pTtest[i], 2)),
paste0("Wilc: ", round(pWilcoxon[i], 2)))
legend("topleft", legend = lhelp)
ound(corPearson[i], 2)
round(corPearson[i], 2)
paste0("Pearson: ", round(corPearson[i], 2))
par(mfrow=c(1,1))
for(i in 1:nrow(data)){
x<-t(data[i,3:6])
y<-t(data[i,8:11])
plot(x,y, main=data[i,1], xlab=paste0("Measured"), ylab="Simulation")
lhelp<-c(paste0("Pearson: ", round(corPearson[i], 2)),
paste0("Spearman: ", round(corSpearman[i], 2)),
paste0("tTest: ", round(pTtest[i], 2)),
paste0("Wilc: ", round(pWilcoxon[i], 2)))
legend("topleft", legend = lhelp)
abline(0,1)
}
par(mfrow=c(1,1))
for(i in 1:nrow(data)){
x<-t(data[i,3:6])
y<-t(data[i,8:11])
plot(x,y, main=data[i,1], xlab=paste0("Measured"), ylab="Simulation")
lhelp<-c(paste0("Pearson: ", round(corPearson[i], 2)),
paste0("Spearman: ", round(corSpearman[i], 2)),
paste0("tTest: ", round(pTtest[i], 2)),
paste0("Wilcoxon: ", round(pWilcoxon[i], 2)))
legend("topleft", legend = lhelp)
abline(0,1)
}
wilcox.test(x,y, paired = T)
?wilcox.test
par(mfrow=c(1,1))
for(i in 1:nrow(data)){
x<-t(data[i,3:6])
y<-t(data[i,8:11])
plot(x,y, main=data[i,1], xlab=paste0("Measured"), ylab="Simulation")
lhelp<-c(paste0("Pearson: ", round(corPearson[i], 2)),
paste0("Spearman: ", round(corSpearman[i], 2)),
paste0("tTest: ", round(pTtest[i], 2)),
paste0("Wilcoxon: ", round(pWilcoxon[i], 2)))
legend("topleft", legend = lhelp)
points(x,y, main=data[i,1])
abline(0,1)
}
pdf("Scatterplots.pdf")
par(mfrow=c(1,1))
for(i in 1:nrow(data)){
x<-t(data[i,3:6])
y<-t(data[i,8:11])
plot(x,y, main=data[i,1], xlab=paste0("Measured"), ylab="Simulation")
lhelp<-c(paste0("Pearson: ", round(corPearson[i], 2)),
paste0("Spearman: ", round(corSpearman[i], 2)),
paste0("tTest: ", round(pTtest[i], 2)),
paste0("Wilcoxon: ", round(pWilcoxon[i], 2)))
legend("topleft", legend = lhelp)
points(x,y, main=data[i,1])
abline(0,1)
}
dev.off()
pdf("Scatterplots.pdf")
par(mfrow=c(1,1))
for(i in 1:nrow(data)){
x<-t(data[i,3:6])
y<-t(data[i,8:11])
plot(x,y, main=data[i,1], xlab=paste0("Measured"), ylab="Simulation")
lhelp<-c(paste0("Pearson Correlation: ", round(corPearson[i], 2)),
paste0("Spearman Correlation: ", round(corSpearman[i], 2)),
paste0("t-Test (p-Value): ", round(pTtest[i], 2)),
paste0("Wilcoxon (p-Value): ", round(pWilcoxon[i], 2)))
legend("topleft", legend = lhelp)
points(x,y, main=data[i,1])
abline(0,1)
}
dev.off()
par(mfrow=c(1,1))
for(i in 1:nrow(data)){
x<-t(data[i,3:6])
y<-t(data[i,8:11])
plot(x,y, main=data[i,1], xlab=paste0("Measured"), ylab="Simulation")
lhelp<-c(paste0("Pearson Correlation: ", round(corPearson[i], 2)),
paste0("Spearman Correlation: ", round(corSpearman[i], 2)),
paste0("t-Test (p-Value): ", round(pTtest[i], 2)),
paste0("Wilcoxon (p-Value): ", round(pWilcoxon[i], 2)))
legend("topleft", legend = lhelp)
points(x,y, main=data[i,1])
abline(0,1)
}
pdf("Scatterplots.pdf")
par(mfrow=c(1,1))
for(i in 1:nrow(data)){
x<-t(data[i,3:6])
y<-t(data[i,8:11])
plot(x,y, main=data[i,1], xlab=paste0("Measured"), ylab="Simulation")
lhelp<-c(paste0("Pearson Correlation: ", round(corPearson[i], 2)),
paste0("Spearman Correlation: ", round(corSpearman[i], 2)),
paste0("t-Test (p-Value): ", round(pTtest[i], 2)),
paste0("Wilcoxon (p-Value): ", round(pWilcoxon[i], 2)))
legend("topleft", legend = lhelp)
points(x,y, main=data[i,1])
abline(0,1)
}
dev.off()
